{"version":3,"sources":["utils/webRTCHandler.js","IntroductionPage/ConnectingButton.js","IntroductionPage/ConnectingButtons.js","store/actions.js","IntroductionPage/IntroductionPage.js","resources/images/logo.png","JoinRoomPage/JoinRoomTitle.js","JoinRoomPage/JoinRoomInputs.js","JoinRoomPage/ErrorMessage.js","JoinRoomPage/JoinRoomButtons.js","utils/api.js","JoinRoomPage/JoinRoomContent.js","JoinRoomPage/JoinRoomPage.js","RoomPage/ChatSection/ChatLabel.js","RoomPage/ChatSection/Messages.js","resources/images/sendMessageButton.svg","store/reducer.js","store/store.js","utils/directMessages.js","utils/wss.js","utils/turn.js","RoomPage/ChatSection/NewMessage.js","RoomPage/ChatSection/ChatSection.js","RoomPage/ParticipantsSection/ParticipantsLabel.js","RoomPage/ParticipantsSection/Participants.js","RoomPage/ParticipantsSection/DirectChat/MessagesContainer.js","RoomPage/ParticipantsSection/DirectChat/NewMessage.js","RoomPage/ParticipantsSection/DirectChat/ConversationNotChosen.js","RoomPage/ParticipantsSection/DirectChat/DirectChatHeader.js","RoomPage/ParticipantsSection/DirectChat/DirectChat.js","RoomPage/ParticipantsSection/ParticipantsSection.js","resources/images/camera.svg","resources/images/cameraOff.svg","RoomPage/VideoSection/CameraButton.js","RoomPage/VideoSection/LeaveRoomButton.js","resources/images/mic.svg","resources/images/micOff.svg","RoomPage/VideoSection/MicButton.js","resources/images/switchToScreenSharing.svg","RoomPage/VideoSection/LocalScreenSharingPreview.js","RoomPage/VideoSection/SwitchToScreenSharingButton.js","RoomPage/VideoSection/VideoButtons.js","resources/images/banner.png","RoomPage/VideoSection/VideoGrid.js","RoomPage/VideoSection/VideoSection.js","RoomPage/RoomLabel.js","RoomPage/Overlay.js","RoomPage/RoomPage.js","App.js","serviceWorker.js","index.js"],"names":["localStream","ConnectingButton","_ref","_ref$createRoomButton","createRoomButton","buttonText","onClickHandler","buttonClass","_jsx","className","onClick","children","ConnectingButtons","history","useHistory","_jsxs","push","Actions","SET_IS_ROOM_HOST","SET_CONNECT_ONLY_WITH_AUDIO","SET_IDENTITY","SET_ROOM_ID","SET_SHOW_OVERLAY","SET_PARTICIPANTS","SET_MESSAGES","SET_ACTIVE_CONVERSATION","SET_DIRECT_CHAT_HISTORY","SET_SOCKET_ID","setIsRoomHost","isRoomHost","type","setRoomId","roomId","setShowOverlay","showOverlay","setDirectChatHistory","directChatHistory","ADD_VIDEO_STREAM","connect","dispatch","setIsRoomHostAction","useEffect","src","JoinRoomTitle","titleText","Input","placeholder","value","changeHandler","onChange","JoinRoomInputs","props","roomIdValue","setRoomIdValue","nameValue","setNameValue","event","target","ErrorMessage","errorMessage","Button","_ref$cancelButton","cancelButton","JoinRoomButtons","_ref2","handleJoinRoom","successButtonText","serverApi","getRoomExists","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","concat","sent","abrupt","data","stop","_x","apply","arguments","getTURNCredentials","_callee2","_context2","state","_objectSpread","setConnectOnlyWithAudio","onlyWithAudio","setIdentityAction","identity","setIdentity","setRoomIdAction","connectOnlyWithAudio","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","_useState5","_useState6","setErrorMessage","createRoom","joinRoom","responseMessage","roomExists","full","_Fragment","search","useLocation","URLSearchParams","JoinRoomContent","ChatLabel","Message","author","content","sameAuthor","messageCreatedByMe","alignClass","authorText","contentAdditionalStyles","messages","map","message","index","initState","participants","activeConversation","socketId","videoStreams","reducer","length","undefined","action","_toConsumableArray","payload","store","configureStore","appendMessageToChatHistory","userSocketId","chatHistory","getState","userChatHistory","find","h","newDirectMessage","isAuthor","messageContent","newUserChatHistory","newChatHistory","filter","socket","connectWithSocketIOServer","io","on","console","log","id","connectedUsers","connUserSocketId","webRTCHandler","emit","receiverSocketId","authorSocketId","appendNewMessageToChatHistory","createNewRoom","onlyAudio","isHost","TURNIceServers","fetchTURNCredentials","_responseData$token","responseData","api","token","iceServers","defaultConstraints","audio","video","width","height","onlyAudioConstraints","getLocalPreviewAndInitRoomConnection","constraints","_args","navigator","mediaDevices","getUserMedia","then","stream","showLocalVideoPreview","wss","catch","err","_x2","peers","streams","getConfiguration","turnIceServers","urls","warn","prepareNewPeerConnection","isInitiator","configuration","Peer","initiator","config","channelName","signal","addStream","messageData","JSON","parse","appendNewMessage","handleSignalingData","removePeerConnection","videoContainer","document","getElementById","videoEl","srcObject","getTracks","forEach","t","removeChild","parentNode","destroy","videosContainer","classList","add","createElement","videoElement","autoplay","muted","onloadedmetadata","play","appendChild","getAudioOnlyLabel","addEventListener","contains","remove","participant","p","style","position","videoStreamData","labelContainer","label","innerHTML","toggleScreenShare","isScreenSharingActive","switchVideoTracks","socket_id","index2","kind","replaceTrack","setMessages","NewMessage","setMessage","sendMessage","stringifiedMessageData","stringify","send","onKeyDown","key","preventDefault","SendMessageButton","ChatSection","Messages","ParticipantsLabel","SingleParticipant","lastItem","setActiveConversationAction","setActiveConversation","SingleMessage","messageStyling","containerStyling","MessagesContainer","scrollRef","useRef","current","scrollIntoView","behavior","ref","sendMessageButton","ConversationNotChosen","DirectChatHeader","getDirectChatHistory","ParticipantsSection","Participants","DirectChat","CameraButton","isLocalVideoDisabled","setIsLocalVideoDisabled","CameraButtonImgOff","CameraButtonImg","isDisabled","getVideoTracks","enabled","LeaveRoomButton","siteUrl","window","location","origin","href","MicButton","isMicMuted","setIsMicMuted","MicButtonImgOff","MicButtonImg","isMuted","getAudioTracks","LocalScreenSharingPreview","localPreviewRef","autoPlay","SwitchToScreenSharingButton","setIsScreenSharingActive","screenSharingStream","setScreenSharingStream","handleScreenShareToggle","getDisplayMedia","t0","SwitchImg","streamData","e","toggle","banner","alt","VideoSection","VideoGrid","VideoButtons","RoomLabel","Overlay","App","Router","Switch","Route","path","JoinRoomPage","RoomPage","IntroductionPage","Boolean","hostname","match","ReactDOM","render","React","StrictMode","Provider","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.63cfab38.chunk.js","sourcesContent":["import { setShowOverlay, setMessages, addVideoStream } from \"../store/actions\";\nimport store from \"../store/store\";\nimport * as wss from \"./wss\";\nimport Peer from \"simple-peer\";\nimport { fetchTURNCredentials, getTurnIceServers } from \"./turn\";\n\n\nconst defaultConstraints = {\n  audio: true,\n  video: {\n    width: \"480\",\n    height: \"360\",\n  },\n};\n\nconst onlyAudioConstraints = {\n  audio: true,\n  video: false,\n};\n\nlet localStream;\n\nexport const getLocalPreviewAndInitRoomConnection = async (\n  isRoomHost,\n  identity,\n  roomId = null,\n  onlyAudio\n) => {\n  await fetchTURNCredentials();\n\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\n\n  if (isRoomHost) {\n    navigator.mediaDevices\n      .getUserMedia(constraints)\n      .then((stream) => {\n        console.log(\"successfully received local stream\");\n        localStream = stream;\n        showLocalVideoPreview(localStream);\n\n        // dispatch an action to hide overlay\n        store.dispatch(setShowOverlay(false));\n\n        wss.createNewRoom(identity, onlyAudio);\n      })\n      .catch((err) => {\n        console.log(\n          \"error occurred when trying to get an access to local stream\"\n        );\n        console.log(err);\n      });\n  } else {\n    // No necesita pedir acceso a la cámara y el micrófono si no es el anfitrión\n    // Solo se une a la sala\n    store.dispatch(setShowOverlay(false));\n    wss.joinRoom(identity, roomId, onlyAudio);\n  }\n};\n\nlet peers = {};\nlet streams = [];\n\nconst getConfiguration = () => {\n  const turnIceServers = getTurnIceServers();\n\n  if (turnIceServers) {\n    return {\n      iceServers: [\n        {\n          urls: \"stun:stun.l.google.com:19302\",\n        },\n        ...turnIceServers,\n      ],\n    };\n  } else {\n    console.warn(\"Using only STUN server\");\n    return {\n      iceServers: [\n        {\n          urls: \"stun:stun.l.google.com:19302\",\n        },\n      ],\n    };\n  }\n};\n\nconst messengerChannel = \"messenger\";\n\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\n  const configuration = getConfiguration();\n\n  peers[connUserSocketId] = new Peer({\n    initiator: isInitiator,\n    config: configuration,\n    stream: localStream,\n    channelName: messengerChannel,\n  });\n\n  peers[connUserSocketId].on(\"signal\", (data) => {\n    // webRTC offer, webRTC Answer (SDP informations), ice candidates\n\n    const signalData = {\n      signal: data,\n      connUserSocketId: connUserSocketId,\n    };\n\n    wss.signalPeerData(signalData);\n  });\n\n  peers[connUserSocketId].on(\"stream\", (stream) => {\n    console.log(\"new stream came\");\n\n    addStream(stream, connUserSocketId);\n    streams = [...streams, stream];\n  });\n\n  peers[connUserSocketId].on(\"data\", (data) => {\n    const messageData = JSON.parse(data);\n    appendNewMessage(messageData);\n  });\n};\n\nexport const handleSignalingData = (data) => {\n  //add signaling data to peer connection\n  peers[data.connUserSocketId].signal(data.signal);\n};\n\nexport const removePeerConnection = (data) => {\n  const { socketId } = data;\n  const videoContainer = document.getElementById(socketId);\n  const videoEl = document.getElementById(`${socketId}-video`);\n\n  if (videoContainer && videoEl) {\n    const tracks = videoEl.srcObject.getTracks();\n\n    tracks.forEach((t) => t.stop());\n\n    videoEl.srcObject = null;\n    videoContainer.removeChild(videoEl);\n\n    videoContainer.parentNode.removeChild(videoContainer);\n\n    if (peers[socketId]) {\n      peers[socketId].destroy();\n    }\n    delete peers[socketId];\n  }\n};\n\n////////////////////////////////// UI Videos //////////////////////////////////\nconst showLocalVideoPreview = (stream) => {\n  const videosContainer = document.getElementById(\"videos_portal\");\n  videosContainer.classList.add(\"videos_portal_styles\");\n  const videoContainer = document.createElement(\"div\");\n  videoContainer.classList.add(\"video_track_container\");\n  const videoElement = document.createElement(\"video\");\n  videoElement.autoplay = true;\n  videoElement.muted = true;\n  videoElement.srcObject = stream;\n\n  videoElement.onloadedmetadata = () => {\n    videoElement.play();\n  };\n\n  videoContainer.appendChild(videoElement);\n\n  if (store.getState().connectOnlyWithAudio) {\n    videoContainer.appendChild(getAudioOnlyLabel());\n  }\n\n  videosContainer.appendChild(videoContainer);\n};\n\n\n\nconst addStream = (stream, connUserSocketId) => {\n  // Display incoming stream\n  const videosContainer = document.getElementById(\"videos_portal\");\n  const videoContainer = document.createElement(\"div\");\n  videoContainer.id = connUserSocketId;\n\n  videoContainer.classList.add(\"video_track_container\");\n  const videoElement = document.createElement(\"video\");\n  videoElement.autoplay = true;\n  videoElement.srcObject = stream;\n  videoElement.id = `${connUserSocketId}-video`;\n\n  videoElement.onloadedmetadata = () => {\n    videoElement.play();\n  };\n\n  videoElement.addEventListener(\"click\", () => {\n    if (videoElement.classList.contains(\"full_screen\")) {\n      videoElement.classList.remove(\"full_screen\");\n    } else {\n      videoElement.classList.add(\"full_screen\");\n    }\n  });\n\n  videoContainer.appendChild(videoElement);\n\n  const participants = store.getState().participants;\n  const participant = participants.find((p) => p.socketId === connUserSocketId);\n\n  if (participant?.onlyAudio) {\n    videoContainer.appendChild(getAudioOnlyLabel(participant.identity));\n  } else {\n    videoContainer.style.position = \"static\";\n  }\n\n  videosContainer.appendChild(videoContainer);\n\n  // Agregar el stream de video al estado de Redux\n  const videoStreamData = {\n    stream,\n    connUserSocketId,\n  };\n  store.dispatch(addVideoStream(videoStreamData));\n};\n\n\n\n\nconst getAudioOnlyLabel = (identity = \"\") => {\n  const labelContainer = document.createElement(\"div\");\n  labelContainer.classList.add(\"label_only_audio_container\");\n\n  const label = document.createElement(\"p\");\n  label.classList.add(\"label_only_audio_text\");\n  label.innerHTML = `Only audio ${identity}`;\n\n  labelContainer.appendChild(label);\n  return labelContainer;\n};\n\n////////////////////////////////// Buttons logic //////////////////////////////////\n\nexport const toggleMic = (isMuted) => {\n  localStream.getAudioTracks()[0].enabled = isMuted ? true : false;\n};\n\nexport const toggleCamera = (isDisabled) => {\n  localStream.getVideoTracks()[0].enabled = isDisabled ? true : false;\n};\n\nexport const toggleScreenShare = (\n  isScreenSharingActive,\n  screenSharingStream = null\n) => {\n  if (isScreenSharingActive) {\n    switchVideoTracks(localStream);\n  } else {\n    switchVideoTracks(screenSharingStream);\n  }\n};\n\nconst switchVideoTracks = (stream) => {\n  for (let socket_id in peers) {\n    for (let index in peers[socket_id].streams[0].getTracks()) {\n      for (let index2 in stream.getTracks()) {\n        if (\n          peers[socket_id].streams[0].getTracks()[index].kind ===\n          stream.getTracks()[index2].kind\n        ) {\n          peers[socket_id].replaceTrack(\n            peers[socket_id].streams[0].getTracks()[index],\n            stream.getTracks()[index2],\n            peers[socket_id].streams[0]\n          );\n          break;\n        }\n      }\n    }\n  }\n};\n\n////////////////////////////////// Messages /////////////////////////////////////\nconst appendNewMessage = (messageData) => {\n  const messages = store.getState().messages;\n  store.dispatch(setMessages([...messages, messageData]));\n};\n\nexport const sendMessageUsingDataChannel = (messageContent) => {\n  // append this message locally\n  const identity = store.getState().identity;\n\n  const localMessageData = {\n    content: messageContent,\n    identity,\n    messageCreatedByMe: true,\n  };\n\n  appendNewMessage(localMessageData);\n\n  const messageData = {\n    content: messageContent,\n    identity,\n  };\n\n  const stringifiedMessageData = JSON.stringify(messageData);\n  for (let socketId in peers) {\n    peers[socketId].send(stringifiedMessageData);\n  }\n};\n","import React from \"react\";\n\nconst ConnectingButton = ({\n  createRoomButton = false,\n  buttonText,\n  onClickHandler,\n}) => {\n  const buttonClass = createRoomButton\n    ? \"create_room_button\"\n    : \"join_room_button\";\n\n  return (\n    <button className={buttonClass} onClick={onClickHandler}>\n      {buttonText}\n    </button>\n  );\n};\n\nexport default ConnectingButton;\n","import React from \"react\";\nimport ConnectingButton from \"./ConnectingButton\";\nimport { useHistory } from \"react-router-dom\";\n\nconst ConnectingButtons = () => {\n  let history = useHistory();\n\n  const pushToJoinRoomPage = () => {\n    history.push(\"/join-room\");\n  };\n\n  const pushToJoinRoomPageAsHost = () => {\n    history.push(\"/join-room?host=true\");\n  };\n\n  return (\n    <div className=\"connecting_buttons_container\">\n      <ConnectingButton\n        buttonText=\"Unirse a reunion\"\n        onClickHandler={pushToJoinRoomPage}\n      />\n      <ConnectingButton\n        createRoomButton\n        buttonText=\"Crear reunion\"\n        onClickHandler={pushToJoinRoomPageAsHost}\n      />\n    </div>\n  );\n};\n\nexport default ConnectingButtons;\n","const Actions = {\n  SET_IS_ROOM_HOST: \"SET_IS_ROOM_HOST\",\n  SET_CONNECT_ONLY_WITH_AUDIO: \"SET_CONNECT_ONLY_WITH_AUDIO\",\n  SET_IDENTITY: \"SET_IDENTITY\",\n  SET_ROOM_ID: \"SET_ROOM_ID\",\n  SET_SHOW_OVERLAY: \"SET_SHOW_OVERLAY\",\n  SET_PARTICIPANTS: \"SET_PARTICIPANTS\",\n  SET_MESSAGES: \"SET_MESSAGES\",\n  SET_ACTIVE_CONVERSATION: 'SET_ACTIVE_CONVERSATION',\n  SET_DIRECT_CHAT_HISTORY: 'SET_DIRECT_CHAT_HISTORY',\n  SET_SOCKET_ID: 'SET_SOCKET_ID'\n};\n\nexport const setIsRoomHost = (isRoomHost) => {\n  return {\n    type: Actions.SET_IS_ROOM_HOST,\n    isRoomHost,\n  };\n};\n\nexport const setConnectOnlyWithAudio = (onlyWithAudio) => {\n  return {\n    type: Actions.SET_CONNECT_ONLY_WITH_AUDIO,\n    onlyWithAudio,\n  };\n};\n\nexport const setIdentity = (identity) => {\n  return {\n    type: Actions.SET_IDENTITY,\n    identity,\n  };\n};\n\nexport const setRoomId = (roomId) => {\n  return {\n    type: Actions.SET_ROOM_ID,\n    roomId,\n  };\n};\n\nexport const setShowOverlay = (showOverlay) => {\n  return {\n    type: Actions.SET_SHOW_OVERLAY,\n    showOverlay,\n  };\n};\n\nexport const setParticipants = (participants) => {\n  return {\n    type: Actions.SET_PARTICIPANTS,\n    participants,\n  };\n};\n\nexport const setMessages = (messages) => {\n  return {\n    type: Actions.SET_MESSAGES,\n    messages,\n  };\n};\n\nexport const setActiveConversation = (activeConversation) => {\n  return {\n    type: Actions.SET_ACTIVE_CONVERSATION,\n    activeConversation\n  }\n}\n\nexport const setDirectChatHistory = (directChatHistory) => {\n  return {\n    type: Actions.SET_DIRECT_CHAT_HISTORY,\n    directChatHistory\n  }\n}\n\nexport const setSocketId = (socketId) => {\n  return {\n    type: Actions.SET_SOCKET_ID,\n    socketId\n  }\n}\n\nexport default Actions;\nexport const ADD_VIDEO_STREAM = \"ADD_VIDEO_STREAM\";\n// ...\nexport const addVideoStream = (streamData) => {\n  return {\n    type: ADD_VIDEO_STREAM,\n    payload: streamData,\n  };\n};","import React, { useEffect } from \"react\";\nimport logo from \"../resources/images/logo.png\";\nimport ConnectingButtons from \"./ConnectingButtons\";\nimport { connect } from \"react-redux\";\nimport { setIsRoomHost } from \"../store/actions\";\n\nimport \"./IntroductionPage.css\";\n\nconst IntroductionPage = ({ setIsRoomHostAction }) => {\n  useEffect(() => {\n    setIsRoomHostAction(false);\n  }, []);\n\n  return (\n    <div className=\"introduction_page_container\">\n      <div className=\"introduction_page_panel\">\n        <img src={logo} className=\"introduction_page_image\"></img>\n        <ConnectingButtons />\n      </div>\n    </div>\n  );\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\n  };\n};\n\nexport default connect(null, mapActionsToProps)(IntroductionPage);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAABECAYAAAD9TctmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB1jSURBVHhe7d3XsyTFsQbw+/8/IkBYSXgQAoHw3gojhISRwUh475F4nxu/ifgOublVPX2WM3FXV/3wRU93ZWVlpaus6j67//PDDz/sKv7xj3/sfv/732/YsGEFxEuPITgvsJ599tndjTfeuHvsscd2Dz/88O6RRx7ZsGFDgbgQH+JEcPUYgvMCC6GOfv/73/8+p23Dhg0/xoU4ee65585rh2FgPfTQQ/vf//rXv/ZMNmzY8CPEhfgQJxcUWJj09g0b/tuRuNgCa8OGM8QWWBs2HAFbYG3YcARsgbVhwxFw9MDSXjGi2fCjnvL7+++/33377bcn+O67705oKu2GixOxz9ECy7Hju+++u3vppZd2X3zxxZBmLYyFX474RzQ/FXWMihEthH6NPDNegugPf/jD7r777tv95je/2d122227X//617tbbrnlBJ7deuutuwceeGD6Jv8sEVnXzm0NzkJXwaH2/2tkjkcJLBO/++67d5dffvnu5z//+d4xvvnmmyHtIRjn66+/3gcnyOKerTHSWuCFL/4ff/zx7sMPP9xf3XP+0Vhk+uijj/btva1C3y+//HKPysfvzz//fHfdddftLrvsst2ll166x89+9rPz4Dmaq666avf222/v9TuSaQmhn/XzHL766qu9XOTNajmiPw3woas1PmBceh+N6xm9kzHydpqKC5Fdn+h3zRgdoT9KYFEOJ4izCLC//vWvpxISLUMYU9b2iQjI7E8//fRe+RfiYBV1jDvvvHN3ww037H71q1/tfvnLX+4d3r0E8dprr52TJc0PPdqnnnpq7ziVb4D/n//8591NN920xyuvvHJO+2effba75pprzgmo6KwHlis9WuHef//93QcffLB67uR7/vnnd/fee+/urbfeOq8dH7I8/vjj+1Uyur7rrrt2L7/88j7pXKiu9bUi0yddJig6nWdW5Jtvvnk/9hNPPHGOzoH+spLTe09WFeb86quv7h588MG9z3766adTWs+BbH//+9/39ma3P/3pTyeJbO38Q3OUwKLMq6+++sRJOARh1wgWUJogkqm7w3nG6d94442DK8YMZBGct99++zkr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\"","import React from \"react\";\n\nconst JoinRoomTitle = ({ isRoomHost }) => {\n  const titleText = isRoomHost ? \"Crear una reunion\" : \"Unirse a reunion\";\n\n  return <p className=\"join_room_title\">{titleText}</p>;\n};\n\nexport default JoinRoomTitle;\n","import React from \"react\";\n\nconst Input = ({ placeholder, value, changeHandler }) => {\n  return (\n    <input\n      value={value}\n      onChange={changeHandler}\n      className=\"join_room_input\"\n      placeholder={placeholder}\n    />\n  );\n};\n\nconst JoinRoomInputs = (props) => {\n  const { roomIdValue, setRoomIdValue, nameValue, setNameValue, isRoomHost } =\n    props;\n\n  const handleRoomIdValueChange = (event) => {\n    setRoomIdValue(event.target.value);\n  };\n\n  const handleNameValueChange = (event) => {\n    setNameValue(event.target.value);\n  };\n\n  return (\n    <div className=\"join_room_inputs_container\">\n      {!isRoomHost && (\n        <Input\n          placeholder=\"Ingrese ID\"\n          value={roomIdValue}\n          changeHandler={handleRoomIdValueChange}\n        />\n      )}\n      <Input\n        placeholder=\"Ingrese su nombre\"\n        value={nameValue}\n        changeHandler={handleNameValueChange}\n      />\n    </div>\n  );\n};\n\nexport default JoinRoomInputs;\n","import React from \"react\";\n\nconst ErrorMessage = ({ errorMessage }) => {\n  return (\n    <div className=\"error_message_container\">\n      {errorMessage && (\n        <p className=\"error_message_paragraph\">{errorMessage}</p>\n      )}\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Button = ({ buttonText, cancelButton = false, onClickHandler }) => {\n  const buttonClass = cancelButton\n    ? \"join_room_cancel_button\"\n    : \"join_room_success_button\";\n\n  return (\n    <button onClick={onClickHandler} className={buttonClass}>\n      {buttonText}\n    </button>\n  );\n};\n\nconst JoinRoomButtons = ({ handleJoinRoom, isRoomHost }) => {\n  const successButtonText = isRoomHost ? \"Crear\" : \"Unirse\";\n\n  const history = useHistory();\n\n  const pushToIntroductionPage = () => {\n    history.push(\"/\");\n  };\n\n  return (\n    <div className=\"join_room_buttons_container\">\n      <Button buttonText={successButtonText} onClickHandler={handleJoinRoom} />\n      <Button\n        buttonText=\"Cancelar\"\n        cancelButton\n        onClickHandler={pushToIntroductionPage}\n      />\n    </div>\n  );\n};\n\nexport default JoinRoomButtons;\n","import axios from \"axios\";\n\nconst serverApi = \"https://server-streamumg.herokuapp.com/api\";\n\nexport const getRoomExists = async (roomId) => {\n  const response = await axios.get(`${serverApi}/room-exists/${roomId}`);\n  return response.data;\n};\n\nexport const getTURNCredentials = async () => {\n  const response = await axios.get(`${serverApi}/get-turn-credentials`);\n  return response.data;\n};\n","import React, { useState } from \"react\";\nimport JoinRoomInputs from \"./JoinRoomInputs\";\nimport { connect } from \"react-redux\";\nimport OnlyWithAudioCheckbox from \"./OnlyWithAudioCheckbox\";\nimport {\n  setConnectOnlyWithAudio,\n  setIdentity,\n  setRoomId,\n} from \"../store/actions\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport JoinRoomButtons from \"./JoinRoomButtons\";\nimport { useHistory } from \"react-router-dom\";\nimport { getRoomExists } from \"../utils/api\";\n\nconst JoinRoomContent = (props) => {\n  const {\n    isRoomHost,\n    setConnectOnlyWithAudio,\n    connectOnlyWithAudio,\n    setIdentityAction,\n    setRoomIdAction,\n  } = props;\n\n  const [roomIdValue, setRoomIdValue] = useState(\"\");\n  const [nameValue, setNameValue] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const history = useHistory();\n\n  const handleJoinRoom = async () => {\n    setIdentityAction(nameValue);\n    if (isRoomHost) {\n      createRoom();\n    } else {\n      await joinRoom();\n    }\n  };\n\n  const joinRoom = async () => {\n    const responseMessage = await getRoomExists(roomIdValue);\n\n    const { roomExists, full } = responseMessage;\n\n    if (roomExists) {\n      if (full) {\n        setErrorMessage(\"Reunion llena\");\n      } else {\n        // join a room !\n        setRoomIdAction(roomIdValue);\n        history.push(\"/room\");\n      }\n    } else {\n      setErrorMessage(\"Id no encontrado\");\n    }\n  };\n\n  const createRoom = () => {\n    history.push(\"/room\");\n  };\n\n  return (\n    <>\n      <JoinRoomInputs\n        roomIdValue={roomIdValue}\n        setRoomIdValue={setRoomIdValue}\n        nameValue={nameValue}\n        setNameValue={setNameValue}\n        isRoomHost={isRoomHost}\n      />\n      \n      {/* <OnlyWithAudioCheckbox\n        setConnectOnlyWithAudio={setConnectOnlyWithAudio}\n        connectOnlyWithAudio={connectOnlyWithAudio}\n      /> */}\n      <ErrorMessage errorMessage={errorMessage} />\n      <JoinRoomButtons\n        handleJoinRoom={handleJoinRoom}\n        isRoomHost={isRoomHost}\n      />\n    </>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setConnectOnlyWithAudio: (onlyWithAudio) =>\n      dispatch(setConnectOnlyWithAudio(onlyWithAudio)),\n    setIdentityAction: (identity) => dispatch(setIdentity(identity)),\n    setRoomIdAction: (roomId) => dispatch(setRoomId(roomId)),\n  };\n};\n\nexport default connect(\n  mapStoreStateToProps,\n  mapActionsToProps\n)(JoinRoomContent);\n","import React, { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { setIsRoomHost } from \"../store/actions\";\nimport JoinRoomTitle from \"./JoinRoomTitle\";\nimport JoinRoomContent from \"./JoinRoomContent\";\n\nimport \"./JoinRoomPage.css\";\n\nconst JoinRoomPage = (props) => {\n  const { setIsRoomHostAction, isRoomHost } = props;\n\n  const search = useLocation().search;\n\n  useEffect(() => {\n    const isRoomHost = new URLSearchParams(search).get(\"host\");\n    if (isRoomHost) {\n      setIsRoomHostAction(true);\n    }\n  }, []);\n\n  return (\n    <div className=\"join_room_page_container\">\n      <div className=\"join_room_page_panel\">\n        <JoinRoomTitle isRoomHost={isRoomHost} />\n        <JoinRoomContent />\n      </div>\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(JoinRoomPage);\n","import React from \"react\";\n\nconst ChatLabel = () => {\n  return (\n    <div className=\"chat_label_container\">\n      <p className=\"chat_label_paragraph\">CHAT</p>\n    </div>\n  );\n};\n\nexport default ChatLabel;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst Message = ({ author, content, sameAuthor, messageCreatedByMe }) => {\n  const alignClass = messageCreatedByMe\n    ? \"message_align_right\"\n    : \"message_align_left\";\n\n  const authorText = messageCreatedByMe ? \"TU\" : author;\n\n  const contentAdditionalStyles = messageCreatedByMe\n    ? \"message_right_styles\"\n    : \"message_left_styles\";\n\n  return (\n    <div className={`message_container ${alignClass}`}>\n      {!sameAuthor && <p className=\"message_title\">{authorText}</p>}\n      <p className={`message_content ${contentAdditionalStyles}`}>{content}</p>\n    </div>\n  );\n};\n\nconst Messages = ({ messages }) => {\n  return (\n    <div className=\"messages_container\">\n      {messages.map((message, index) => {\n        const sameAuthor =\n          index > 0 && message.identity === messages[index - 1].identity;\n\n        return (\n          <Message\n            key={`${message.content}${index}`}\n            author={message.identity}\n            content={message.content}\n            sameAuthor={sameAuthor}\n            messageCreatedByMe={message.messageCreatedByMe}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(Messages);\n","export default __webpack_public_path__ + \"static/media/sendMessageButton.9add4f6d.svg\";","import Actions from \"./actions\";\nimport {\n  SET_ROOM_ID,\n  SET_IDENTITY,\n  ADD_VIDEO_STREAM,\n  SET_IS_ROOM_HOST,\n  SET_CONNECT_ONLY_WITH_AUDIO,\n  SET_SHOW_OVERLAY,\n  SET_PARTICIPANTS,\n  SET_MESSAGES,\n  SET_ACTIVE_CONVERSATION,\n  SET_DIRECT_CHAT_HISTORY,\n  SET_SOCKET_ID,\n  // ... other actions\n} from \"./actions\";\nconst initState = {\n  identity: \"\",\n  isRoomHost: false,\n  connectOnlyWithAudio: false,\n  roomId: null,\n  showOverlay: true,\n  participants: [],\n  messages: [],\n  activeConversation: null,\n  directChatHistory: [],\n  socketId: null,\n  videoStreams: [], // Add videoStreams to the initial state\n};\n\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case Actions.SET_IS_ROOM_HOST:\n      return {\n        ...state,\n        isRoomHost: action.isRoomHost,\n      };\n    case Actions.SET_CONNECT_ONLY_WITH_AUDIO:\n      return {\n        ...state,\n        connectOnlyWithAudio: action.onlyWithAudio,\n      };\n    case Actions.SET_ROOM_ID:\n      return {\n        ...state,\n        roomId: action.roomId,\n      };\n    case Actions.SET_IDENTITY:\n      return {\n        ...state,\n        identity: action.identity,\n      };\n    case Actions.SET_SHOW_OVERLAY:\n      return {\n        ...state,\n        showOverlay: action.showOverlay,\n      };\n    case Actions.SET_PARTICIPANTS:\n      return {\n        ...state,\n        participants: action.participants,\n      };\n    case Actions.SET_MESSAGES:\n      return {\n        ...state,\n        messages: action.messages,\n      };\n    case Actions.SET_ACTIVE_CONVERSATION:\n      return {\n        ...state,\n        activeConversation: action.activeConversation\n      }\n    case Actions.SET_DIRECT_CHAT_HISTORY:\n      return {\n        ...state,\n        directChatHistory: action.directChatHistory\n      };\n    case Actions.SET_SOCKET_ID:\n      return {\n        ...state,\n        socketId: action.socketId\n      }\n      case ADD_VIDEO_STREAM:\n        return {\n          ...state,\n          videoStreams: [...state.videoStreams, action.payload],\n        };\n      default:\n        return state;\n    }\n  };\n\n\nexport default reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport reducer from \"./reducer\";\n\nexport const store = configureStore({\n  reducer: reducer,\n});\n\nexport default store;\n","import { setDirectChatHistory } from \"../store/actions\";\nimport store from \"../store/store\";\n\nexport const appendNewMessageToChatHistory = (data) => {\n  const { isAuthor, receiverSocketId, authorSocketId } = data;\n\n  if (isAuthor) {\n    appendMessageToChatHistory(receiverSocketId, data);\n  } else {\n    appendMessageToChatHistory(authorSocketId, data);\n  }\n};\n\nconst appendMessageToChatHistory = (userSocketId, data) => {\n  const chatHistory = [...store.getState().directChatHistory];\n\n  const userChatHistory = chatHistory.find((h) => h.socketId === userSocketId);\n\n  if (userChatHistory) {\n    const newDirectMessage = {\n      isAuthor: data.isAuthor,\n      messageContent: data.messageContent,\n      identity: data.identity,\n    };\n\n    const newUserChatHistory = {\n      ...userChatHistory,\n      chatHistory: [...userChatHistory.chatHistory, newDirectMessage],\n    };\n\n    const newChatHistory = [\n      ...chatHistory.filter((h) => h.socketId !== userSocketId),\n      newUserChatHistory,\n    ];\n\n    store.dispatch(setDirectChatHistory(newChatHistory));\n  } else {\n    const newUserChatHistory = {\n      socketId: userSocketId,\n      chatHistory: [\n        {\n          isAuthor: data.isAuthor,\n          messageContent: data.messageContent,\n          identity: data.identity,\n        },\n      ],\n    };\n\n    const newChatHistory = [...chatHistory, newUserChatHistory];\n\n    store.dispatch(setDirectChatHistory(newChatHistory));\n  }\n};\n","import io from \"socket.io-client\";\nimport { setRoomId, setParticipants, setSocketId } from \"../store/actions\";\nimport store from \"../store/store\";\nimport * as webRTCHandler from \"./webRTCHandler\";\nimport { appendNewMessageToChatHistory } from \"./directMessages\";\n\n\n// Aquí continúa el resto del código del archivo\n\nconst SERVER = \"https://server-streamumg.herokuapp.com/\";\n\nlet socket = null;\n\nexport const connectWithSocketIOServer = () => {\n  socket = io(SERVER);\n\n  socket.on(\"connect\", () => {\n    console.log(\"successfully connected with socket io server\");\n    console.log(socket.id);\n    store.dispatch(setSocketId(socket.id));\n  });\n\n  socket.on(\"room-id\", (data) => {\n    const { roomId } = data;\n    store.dispatch(setRoomId(roomId));\n  });\n\n  socket.on(\"room-update\", (data) => {\n    const { connectedUsers } = data;\n    store.dispatch(setParticipants(connectedUsers));\n  });\n\n  socket.on(\"conn-prepare\", (data) => {\n    const { connUserSocketId } = data;\n\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\n\n    // inform the user which just join the room that we have prepared for incoming connection\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\n  });\n\n  socket.on(\"conn-signal\", (data) => {\n    webRTCHandler.handleSignalingData(data);\n  });\n\n  socket.on(\"conn-init\", (data) => {\n    const { connUserSocketId, isRoomHost } = data;\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, isRoomHost);\n  });\n  \n  socket.on(\"user-disconnected\", (data) => {\n    webRTCHandler.removePeerConnection(data);\n  });\n\n  socket.on(\"direct-message\", (data) => {\n    appendNewMessageToChatHistory(data);\n  });\n};\n\nexport const createNewRoom = (identity, onlyAudio) => {\n  // emit an event to server that we would like to create new room\n  const data = {\n    identity,\n    onlyAudio,\n    isHost: true, // Agrega esta línea\n  };\n\n  socket.emit(\"create-new-room\", data);\n};\n\nexport const joinRoom = (identity, roomId, onlyAudio) => {\n  //emit an event to server that we would to join a room\n  const data = {\n    roomId,\n    identity,\n    onlyAudio,\n    isHost: false, // Agrega esta línea\n  };\n\n  socket.emit(\"join-room\", data);\n};\n\nexport const signalPeerData = (data) => {\n  socket.emit(\"conn-signal\", data);\n};\n\nexport const sendDirectMessage = (data) => {\n  socket.emit(\"direct-message\", data);\n};\n","import * as api from \"./api\";\n\nlet TURNIceServers = null;\n\nexport const fetchTURNCredentials = async () => {\n  const responseData = await api.getTURNCredentials();\n\n  if (responseData.token?.iceServers) {\n    TURNIceServers = responseData.token.iceServers;\n  }\n\n  return TURNIceServers;\n};\n\nexport const getTurnIceServers = () => {\n  return TURNIceServers;\n};\n","import React, { useState } from \"react\";\nimport SendMessageButton from \"../../resources/images/sendMessageButton.svg\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst NewMessage = () => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleTextChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n\n      // send message to other users\n      sendMessage();\n    }\n  };\n\n  const sendMessage = () => {\n    if (message.length > 0) {\n      webRTCHandler.sendMessageUsingDataChannel(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div className=\"new_message_container\">\n      <input\n        className=\"new_message_input\"\n        value={message}\n        onChange={handleTextChange}\n        placeholder=\"Escribe tu mensaje ...\"\n        type=\"text\"\n        onKeyDown={handleKeyPressed}\n      />\n      <img\n        className=\"new_message_button\"\n        src={SendMessageButton}\n        onClick={sendMessage}\n      />\n    </div>\n  );\n};\n\nexport default NewMessage;\n","import React from \"react\";\nimport ChatLabel from \"./ChatLabel\";\nimport Messages from \"./Messages\";\nimport NewMessage from \"./NewMessage\";\n\nconst ChatSection = () => {\n  return (\n    <div className=\"chat_section_container\">\n      <ChatLabel />\n      <Messages />\n      <NewMessage />\n    </div>\n  );\n};\n\nexport default ChatSection;\n","import React from \"react\";\n\nconst ParticipantsLabel = () => {\n  return (\n    <div className=\"participants_label_container\">\n      <p className=\"participants_label_paragraph\">PARTICIPANTS</p>\n    </div>\n  );\n};\n\nexport default ParticipantsLabel;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { setActiveConversation } from \"../../store/actions\";\n\nconst SingleParticipant = (props) => {\n  const {\n    identity,\n    lastItem,\n    participant,\n    setActiveConversationAction,\n    socketId,\n  } = props;\n\n  const handleOpenActiveChatbox = () => {\n    if (participant.socketId !== socketId) {\n      setActiveConversationAction(participant);\n    }\n  };\n\n  return (\n    <>\n      <p className=\"participants_paragraph\" onClick={handleOpenActiveChatbox}>\n        {identity}\n      </p>\n      {!lastItem && <span className=\"participants_separator_line\"></span>}\n    </>\n  );\n};\n\nconst Participants = ({\n  participants,\n  setActiveConversationAction,\n  socketId,\n}) => {\n  return (\n    <div className=\"participants_container\">\n      {participants.map((participant, index) => {\n        return (\n          <SingleParticipant\n            key={participant.identity}\n            lastItem={participants.length === index + 1}\n            participant={participant}\n            identity={participant.identity}\n            setActiveConversationAction={setActiveConversationAction}\n            socketId={socketId}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    setActiveConversationAction: (activeConversation) =>\n      dispatch(setActiveConversation(activeConversation)),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Participants);\n","import React, { useEffect, useRef } from \"react\";\n\nconst SingleMessage = ({ isAuthor, messageContent }) => {\n  const messageStyling = isAuthor\n    ? \"author_direct_message\"\n    : \"receiver_direct_message\";\n\n  const containerStyling = isAuthor\n    ? \"direct_message_container_author\"\n    : \"direct_message_container_receiver\";\n\n  return (\n    <div className={containerStyling}>\n      <p className={messageStyling}>{messageContent}</p>\n    </div>\n  );\n};\n\nconst MessagesContainer = ({ messages }) => {\n  const scrollRef = useRef();\n\n  useEffect(() => {\n    if (scrollRef) {\n      scrollRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages]);\n\n  return (\n    <div className=\"direct_messages_container\">\n      {messages.map((message) => {\n        return (\n          <SingleMessage\n            messageContent={message.messageContent}\n            isAuthor={message.isAuthor}\n            key={`${message.messageContent}-${message.identity}`}\n          />\n        );\n      })}\n      <div ref={scrollRef}></div>\n    </div>\n  );\n};\n\nexport default MessagesContainer;\n","import React, { useState } from \"react\";\nimport sendMessageButton from \"../../../resources/images/sendMessageButton.svg\";\nimport * as wss from \"../../../utils/wss\";\nimport { connect } from \"react-redux\";\n\nconst NewMessage = ({ activeConversation, identity }) => {\n  const [message, setMessage] = useState(\"\");\n\n  const sendMessage = () => {\n    wss.sendDirectMessage({\n      receiverSocketId: activeConversation.socketId,\n      identity: identity,\n      messageContent: message,\n    });\n\n    setMessage(\"\");\n  };\n\n  const handleTextChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <div className=\"new_message_container new_message_direct_border\">\n      <input\n        className=\"new_message_input\"\n        value={message}\n        onChange={handleTextChange}\n        placeholder=\"Escribe tu mensaje..\"\n        type=\"text\"\n        onKeyDown={handleKeyPressed}\n      />\n      <img\n        className=\"new_message_button\"\n        src={sendMessageButton}\n        onClick={sendMessage}\n      />\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(NewMessage);\n","import React from 'react';\n\nconst ConversationNotChosen = () => {\n    return (\n        <div className='conversation_not_chosen_overlay'>\n            <p className='conversation_not_chosen_overlay_text'>\n                Seleccione conversación\n            </p>\n        </div>\n    );\n};\n\nexport default ConversationNotChosen;","import React from 'react';\n\nconst DirectChatHeader = ({ activeConversation }) => {\n    return (\n        <div className='direct_chat_header'>\n            <p className='direct_chat_header_paragraph'>\n                {activeConversation ? activeConversation.identity : ''}\n            </p>\n        </div>\n    );\n};\n\nexport default DirectChatHeader;","import React, { useState, useEffect } from \"react\";\nimport MessagesContainer from \"./MessagesContainer\";\nimport NewMessage from \"./NewMessage\";\nimport ConversationNotChosen from \"./ConversationNotChosen\";\nimport { connect } from \"react-redux\";\nimport DirectChatHeader from \"./DirectChatHeader\";\n\nconst getDirectChatHistory = (directChatHistory, socketId = null) => {\n  console.log(directChatHistory);\n  console.log(socketId);\n  if (!socketId || !directChatHistory) {\n    return [];\n  }\n\n  const history = directChatHistory.find((h) => h.socketId === socketId);\n\n  return history ? history.chatHistory : [];\n};\n\nconst DirectChat = ({ activeConversation, directChatHistory }) => {\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    setMessages(\n      getDirectChatHistory(\n        directChatHistory,\n        activeConversation ? activeConversation.socketId : null\n      )\n    );\n  }, [activeConversation, directChatHistory]);\n\n  return (\n    <div className=\"direct_chat_container\">\n      <DirectChatHeader activeConversation={activeConversation} />\n      <MessagesContainer messages={messages} />\n      <NewMessage />\n      {!activeConversation && <ConversationNotChosen />}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(DirectChat);\n","import React from \"react\";\nimport ParticipantsLabel from \"./ParticipantsLabel\";\nimport Participants from \"./Participants\";\nimport DirectChat from './DirectChat/DirectChat';\n\nconst ParticipantsSection = () => {\n  return (\n    <div className=\"participants_section_container\">\n      <ParticipantsLabel />\n      <Participants />\n      <DirectChat />\n    </div>\n  );\n};\n\nexport default ParticipantsSection;\n","export default __webpack_public_path__ + \"static/media/camera.b50348a3.svg\";","export default __webpack_public_path__ + \"static/media/cameraOff.a61d4a02.svg\";","import React, { useState } from \"react\";\n\nimport CameraButtonImg from \"../../resources/images/camera.svg\";\nimport CameraButtonImgOff from \"../../resources/images/cameraOff.svg\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst CameraButton = () => {\n  const [isLocalVideoDisabled, setIsLocalVideoDisabled] = useState(false);\n\n  const handleCameraButtonPressed = () => {\n    webRTCHandler.toggleCamera(isLocalVideoDisabled);\n\n    setIsLocalVideoDisabled(!isLocalVideoDisabled);\n  };\n\n  return (\n    <div className=\"video_button_container\">\n      <img\n        src={isLocalVideoDisabled ? CameraButtonImgOff : CameraButtonImg}\n        className=\"video_button_image\"\n        onClick={handleCameraButtonPressed}\n      />\n    </div>\n  );\n};\n\nexport default CameraButton;\n","import React from \"react\";\n\nconst LeaveRoomButton = () => {\n  const handleRoomDisconnection = () => {\n    const siteUrl = window.location.origin;\n    window.location.href = siteUrl;\n  };\n\n  return (\n    <div className=\"video_button_container\">\n      <button className=\"video_button_end\" onClick={handleRoomDisconnection}>\n        Salir\n      </button>\n    </div>\n  );\n};\n\nexport default LeaveRoomButton;\n","export default __webpack_public_path__ + \"static/media/mic.c9c9788e.svg\";","export default __webpack_public_path__ + \"static/media/micOff.3a72f682.svg\";","import React, { useState } from \"react\";\nimport MicButtonImg from \"../../resources/images/mic.svg\";\nimport MicButtonImgOff from \"../../resources/images/micOff.svg\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst MicButton = () => {\n  const [isMicMuted, setIsMicMuted] = useState(false);\n\n  const handleMicButtonPressed = () => {\n    webRTCHandler.toggleMic(isMicMuted);\n\n    setIsMicMuted(!isMicMuted);\n  };\n\n  return (\n    <div className=\"video_button_container\">\n      <img\n        src={isMicMuted ? MicButtonImgOff : MicButtonImg}\n        onClick={handleMicButtonPressed}\n        className=\"video_button_image\"\n      />\n    </div>\n  );\n};\n\nexport default MicButton;\n","export default __webpack_public_path__ + \"static/media/switchToScreenSharing.900d9338.svg\";","import React, { useRef, useEffect } from \"react\";\n\nconst LocalScreenSharingPreview = ({ stream }) => {\n  const localPreviewRef = useRef();\n\n  useEffect(() => {\n    const video = localPreviewRef.current;\n\n    video.srcObject = stream;\n\n    video.onloadedmetadata = () => {\n      video.play();\n    };\n  }, [stream]);\n\n  return (\n    <div className=\"local_screen_share_preview\">\n      <video muted autoPlay ref={localPreviewRef}></video>\n    </div>\n  );\n};\n\nexport default LocalScreenSharingPreview;\n","import React, { useState } from \"react\";\nimport SwitchImg from \"../../resources/images/switchToScreenSharing.svg\";\nimport LocalScreenSharingPreview from \"./LocalScreenSharingPreview\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst constraints = {\n  audio: false,\n  video: true,\n};\n\nconst SwitchToScreenSharingButton = () => {\n  const [isScreenSharingActive, setIsScreenSharingActive] = useState(false);\n  const [screenSharingStream, setScreenSharingStream] = useState(null);\n\n  const handleScreenShareToggle = async () => {\n    if (!isScreenSharingActive) {\n      let stream = null;\n      try {\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\n      } catch (err) {\n        console.log(\n          \"error occurred when trying to get an access to screen share stream\"\n        );\n      }\n      if (stream) {\n        setScreenSharingStream(stream);\n\n        webRTCHandler.toggleScreenShare(isScreenSharingActive, stream);\n        setIsScreenSharingActive(true);\n        // execute here function to switch the video track which we are sending to other users\n      }\n    } else {\n      webRTCHandler.toggleScreenShare(isScreenSharingActive);\n      setIsScreenSharingActive(false);\n\n      // stop screen share stream\n      screenSharingStream.getTracks().forEach((t) => t.stop());\n      setScreenSharingStream(null);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"video_button_container\">\n        <img\n          src={SwitchImg}\n          onClick={handleScreenShareToggle}\n          className=\"video_button_image\"\n        />\n      </div>\n      {isScreenSharingActive && (\n        <LocalScreenSharingPreview stream={screenSharingStream} />\n      )}\n    </>\n  );\n};\n\nexport default SwitchToScreenSharingButton;\n","import React from \"react\";\nimport CameraButton from \"./CameraButton\";\nimport LeaveRoomButton from \"./LeaveRoomButton\";\nimport MicButton from \"./MicButton\";\nimport SwitchToScreenSharingButton from \"./SwitchToScreenSharingButton\";\nimport { connect } from \"react-redux\";\n\nconst VideoButtons = (props) => {\n  const { connectOnlyWithAudio } = props;\n\n  return (\n    <div className=\"video_buttons_container\">\n      <MicButton />\n      {!connectOnlyWithAudio && <CameraButton />}\n      <LeaveRoomButton />\n      {!connectOnlyWithAudio && <SwitchToScreenSharingButton />}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(VideoButtons);\n","export default __webpack_public_path__ + \"static/media/banner.3a846284.png\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./VideoGrid.css\";\r\nimport banner from \"../../resources/images/banner.png\";\r\n\r\nconst VideoGrid = ({ videoStreams }) => {\r\n  return (\r\n    <div id=\"videos_portal\" className=\"videos_portal\">\r\n      {videoStreams.map((streamData, index) => {\r\n        const { stream, socketId, onlyAudio, identity } = streamData;\r\n\r\n        return (\r\n          socketId && ( // Agrega esta línea para verificar si socketId está definido\r\n            <div key={socketId} className=\"video_track_container\">\r\n              <video\r\n                id={`${socketId}-video`}\r\n                autoPlay\r\n                srcObject={stream}\r\n                onClick={(e) => {\r\n                  e.target.classList.toggle(\"full_screen\");\r\n                }}\r\n              ></video>\r\n              {onlyAudio && (\r\n                <div className=\"label_only_audio_container\">\r\n                  <p className=\"label_only_audio_text\">{`Only audio ${identity}`}</p>\r\n                </div>\r\n              )}\r\n              {index === 0 && (\r\n                <div className=\"banner_container\">\r\n                  <img src={banner} alt=\"Banner\" className=\"banner_image\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) // Cierra la expresión condicional aquí\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    videoStreams: state.videoStreams,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(VideoGrid);\r\n","import React from \"react\";\nimport VideoButtons from \"./VideoButtons\";\nimport VideoGrid from \"./VideoGrid\";\n\nconst VideoSection = () => {\n  return (\n    <div className=\"video_section_container\">\n      <VideoGrid />\n      <VideoButtons />\n    </div>\n  );\n};\n\nexport default VideoSection;\n","import React from \"react\";\n\nconst RoomLabel = ({ roomId }) => {\n  return (\n    <div className=\"room_label\">\n      <p className=\"room_label_paragraph\">ID: {roomId} </p>\n    </div>\n  );\n};\n\nexport default RoomLabel;\n","import React from \"react\";\n\nconst Overlay = () => {\n  return (\n    <div className=\"overlay_container\">\n      <div className=\"loader\"></div>\n    </div>\n  );\n};\n\nexport default Overlay;\n","import React, { useEffect } from \"react\";\nimport ChatSection from \"./ChatSection/ChatSection\";\nimport ParticipantsSection from \"./ParticipantsSection/ParticipantsSection\";\nimport VideoSection from \"./VideoSection/VideoSection\";\nimport RoomLabel from \"./RoomLabel\";\nimport { connect } from \"react-redux\";\nimport * as webRTCHandler from \"../utils/webRTCHandler\";\nimport Overlay from \"./Overlay\";\n\nimport \"./RoomPage.css\";\n\nconst RoomPage = ({\n  roomId,\n  identity,\n  isRoomHost,\n  showOverlay,\n  connectOnlyWithAudio,\n}) => {\n  useEffect(() => {\n    if (!isRoomHost && !roomId) {\n      const siteUrl = window.location.origin;\n      window.location.href = siteUrl;\n    } else {\n      webRTCHandler.getLocalPreviewAndInitRoomConnection(\n        isRoomHost,\n        identity,\n        roomId,\n        connectOnlyWithAudio\n      );\n    }\n  }, []);\n\n  return (\n    <div className=\"room_container\">\n      <ParticipantsSection />\n      <VideoSection />\n      <ChatSection />\n      <RoomLabel roomId={roomId} />\n      {showOverlay && <Overlay />}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(RoomPage);\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport IntroductionPage from \"./IntroductionPage/IntroductionPage\";\nimport JoinRoomPage from \"./JoinRoomPage/JoinRoomPage\";\nimport RoomPage from \"./RoomPage/RoomPage\";\nimport { connectWithSocketIOServer } from \"./utils/wss\";\n\nimport \"./App.css\";\n\nfunction App() {\n  useEffect(() => {\n    connectWithSocketIOServer();\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/join-room\">\n          <JoinRoomPage />\n        </Route>\n        <Route path=\"/room\">\n          <RoomPage />\n        </Route>\n        <Route path=\"/\">\n          <IntroductionPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}